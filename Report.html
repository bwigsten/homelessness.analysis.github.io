<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Report</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.9.0/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-1.46.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="site_libs/plotly-main-1.46.1/plotly-latest.min.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="Report.html">Report</a>
</li>
<li>
  <a href="Dashboard.html">Trends Over Time</a>
</li>
<li>
  <a href="https://kpc2124.shinyapps.io/homelessness_final_proj/">Homelessness by State</a>
</li>
<li>
  <a href="https://kpc2124.shinyapps.io/housing_covariates/">Covariate Analysis</a>
</li>
<li>
  <a href="mailto:&lt;niz2000@cumc.columbia.edu&gt;">
    <span class="fa fa-envelope fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/bwigsten/homelessness.analysis.github.io">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="About-Us.html">
    <span class="fa fa-paw fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Report</h1>

</div>


<div id="blair-wigsten-nora-zakaria-kristi-chau-and-alicia-yang" class="section level4">
<h4>Blair Wigsten, Nora Zakaria, Kristi Chau, and Alicia Yang</h4>
<p>December 5th, 2019</p>
<pre class="r"><code>library(tidyverse)
library(readxl)
library(plotly)
library(viridis)</code></pre>
</div>
<div id="motivation" class="section level2">
<h2>Motivation</h2>
<p>Due to a lack of accessible mental health resources, rising cost of living with stagnant wages, and housing insecurity, homelessness is on the rise in the United States. Data from the Department of Housing and Urban Development (HUD) has shown that homelessness was declining historically, but has risen every year since 2016. Seemingly declaring war on homelessness after this rise, President Donald Trump argues that the homeless individuals are living in “our best highways, our best highways, our best streets, our best entrances to building”. While countrywide data on this issue is presented by the US government each year, deep analysis into state stratification and potential correlating factors is rarely performed. As a group consisting of California and New York residents, where homelessness is thought to be the highest in the country, we set out to explain trends in homelessness over the last 12 years.</p>
</div>
<div id="related-work" class="section level2">
<h2>Related Work</h2>
<p>As a group consisting of California and New York residents, homelessness as a public health issue is at the forefront. Throughout coursework at Columbia, we have all been exposed to this glaring issue, and chose to analyze available public data to see the magnitude of the problem firsthand. Recent statements by President Trump on <a href="https://www.washingtonpost.com/business/2019/09/18/surprising-holes-our-knowledge-americas-homeless-population/">homelessness</a> have made headlines, and caught our attention. This compelled us to focus our final project on this topic.</p>
</div>
<div id="initial-questions" class="section level2">
<h2>Initial Questions</h2>
<p>Without individual level data, we cannot hypothesize risk factors for homelessness in this report. We can, however, analyze current prevalences in homelessness and show trends between homelessness and other demographics (like state, median income, median monthly housing cost, and percent housing inadequacy). We aimed to show interactive maps and figures to show prevalences of homelessness types, in relation to other search variables like year, and further categories of homelessness (sheltered/unsheltered, household, chronic, veterans, youth). Our initial questions included:</p>
<ul>
<li>What is the distribution of homelessness by state and year over the period of 2007 to 2008?</li>
<li>Are there trends in certain subcategories of homelessness over time?</li>
<li>Are there correlations between demographics trends (listed above) and homelessness?</li>
</ul>
<p>Our original project goals were to compare rates of homelessness and weather patterns across the United States, but further analysis of weather data suggested this would not be meaningful. Therefore, we chose to look at homelessness over time as a general trend, stratified by types of homelessness, and compare this data to publicly available data on income, housing cost, and housing inadequacy.</p>
<p>Over the course of the project, we changed our focus slightly. We realized that homelessness is likely a problem in large cities, so we decided to focus our secondary analysis on the top 15 metropolitan areas in the US. This worked well with available US census data on median household income, median monthly housing costs, and percent inadequate housing quality in each of these 15 cities. Therefore, we ultimately decided to display trends in total homelessness and homelessness subcategories over time, and total homelessness versus each predictor in two separate Shiny Apps. We would have liked to display homelessness as a percent of total city population, but due to a lack of concise available data and time constraints, kept homelessness as a number instead of a percent.</p>
</div>
<div id="main-hypotheses" class="section level2">
<h2>Main Hypotheses</h2>
<p>We hypothesized, in accordance with government reports, that homelessness would increase after the recession of 2008, and decrease once the economy had rebounded by 2012 or 2013. We also expected total homelessness to increase from 2016-2018 based on the articles linked in our background section. In terms of covariate analysis, we expected cities with known high homeless populations (NYC, San Francisco, and LA) to have high monthly housing costs, high rates of inadequate housing quality, and low median household income.</p>
</div>
<div id="facts-about-homelessness" class="section level2">
<h2>Facts About Homelessness</h2>
<ul>
<li>Nearly half a million Americans are homeless on any given night of the year</li>
<li>California has the highest rate of unsheltered homelessness out of the 50 states, but East Coast cities (New York City, Boston, Washington D.C.) have the highest rates of sheltered homelessness</li>
<li>Government housing regulations have worsened the homelessness problem (rent control, zoning laws, rehabilitation codes, etc.)</li>
<li><p>Housing deregulation could wipe out the majority of homelessness in San Francisco</p></li>
<li><p>Sources <a href="https://acton.org/publications/transatlantic/2019/09/23/10-facts-about-homelessness-america">here</a></p></li>
</ul>
</div>
<div id="goals-of-this-project" class="section level2">
<h2>Goals of This Project</h2>
<ul>
<li>Analyze trends in homelessness in each state from 2007 to 2018</li>
<li>Display trends in categories of homelessness</li>
<li>Analyze trends in factors that may influence homelessness in relation to total homelessness (median household income, inadequate housing percentage, and median monthly housing costs)</li>
</ul>
</div>
<div id="introduction-to-the-data" class="section level2">
<h2>Introduction to the Data</h2>
<p>Using data Point-in-Time Estimates of Homelessness from the HUD website on yearly homelessness, we cleaned and combined 12 years of data on homelessness. The data can be accessed <a href="https://www.hudexchange.info/resource/5783/2018-ahar-part-1-pit-estimates-of-homelessness-in-the-us/">here</a>. Variable definitions can be found in the <a href="https://files.hudexchange.info/resources/documents/2018-AHAR-Part-1.pdf">2018 Annual Homelessness Assessment Report to Congress</a>. Data cleaning involved cleaning variable names, fixing the format of the year variable, and selecting variables of interest for future analysis. We chose to analyze total homeless, total sheltered, total unsheltered, total homeless in families, chronically homeless, homeless veterans, and homeless youth. Note: not all variables selected during data cleaning process were displayed or used during the exploratory analysis section. We decided which variables to keep before choosing which relationships to display.</p>
<p>Below is the complete process for importing and cleaning this dataset.</p>
<pre class="r"><code>home_data_2018 = read_excel(&quot;data/2007-2018-PIT-Counts-by-CoC.xlsx&quot;, 1)
home_data_2017 = read_excel(&quot;data/2007-2018-PIT-Counts-by-CoC.xlsx&quot;, 2)
home_data_2016 = read_excel(&quot;data/2007-2018-PIT-Counts-by-CoC.xlsx&quot;, 3)
home_data_2015 = read_excel(&quot;data/2007-2018-PIT-Counts-by-CoC.xlsx&quot;, 4)
home_data_2014 = read_excel(&quot;data/2007-2018-PIT-Counts-by-CoC.xlsx&quot;, 5)
home_data_2013 = read_excel(&quot;data/2007-2018-PIT-Counts-by-CoC.xlsx&quot;, 6)
home_data_2012 = read_excel(&quot;data/2007-2018-PIT-Counts-by-CoC.xlsx&quot;, 7)
home_data_2011 = read_excel(&quot;data/2007-2018-PIT-Counts-by-CoC.xlsx&quot;, 8)
home_data_2010 = read_excel(&quot;data/2007-2018-PIT-Counts-by-CoC.xlsx&quot;, 9)
home_data_2009 = read_excel(&quot;data/2007-2018-PIT-Counts-by-CoC.xlsx&quot;, 10)
home_data_2008 = read_excel(&quot;data/2007-2018-PIT-Counts-by-CoC.xlsx&quot;, 11)
home_data_2007 = read_excel(&quot;data/2007-2018-PIT-Counts-by-CoC.xlsx&quot;, 12)


### Clean names, add year variable, remove _year from name to merge later, and select variables of interest for all years

home_data_2018 = home_data_2018 %&gt;%
  janitor::clean_names() %&gt;%
  mutate(year = 2018) %&gt;%
  rename_at(.vars = vars(ends_with(&quot;_2018&quot;)),
            .funs = funs(sub(&quot;[_]2018$&quot;, &quot;&quot;, .))) %&gt;%
  select(co_c_number, co_c_name, co_c_category, overall_homeless, sheltered_total_homeless, unsheltered_homeless, homeless_people_in_families, sheltered_total_homeless_people_in_families, unsheltered_homeless_people_in_families, homeless_family_households, sheltered_total_homeless_family_households, unsheltered_homeless_family_households, chronically_homeless, sheltered_total_chronically_homeless, unsheltered_chronically_homeless, homeless_veterans, sheltered_total_homeless_veterans, unsheltered_homeless_veterans, homeless_unaccompanied_youth_under_18, year)

home_data_2017 = home_data_2017 %&gt;%
  janitor::clean_names() %&gt;%
  mutate(year = 2017) %&gt;%
  rename_at(.vars = vars(ends_with(&quot;_2017&quot;)),
            .funs = funs(sub(&quot;[_]2017$&quot;, &quot;&quot;, .))) %&gt;%
  select(co_c_number, co_c_name, overall_homeless, sheltered_total_homeless, unsheltered_homeless, homeless_people_in_families, sheltered_total_homeless_people_in_families, unsheltered_homeless_people_in_families, homeless_family_households, sheltered_total_homeless_family_households, unsheltered_homeless_family_households, chronically_homeless, sheltered_total_chronically_homeless, unsheltered_chronically_homeless, homeless_veterans, sheltered_total_homeless_veterans, unsheltered_homeless_veterans, homeless_unaccompanied_youth_under_18, year)

home_data_2016 = home_data_2016 %&gt;%
  janitor::clean_names() %&gt;%
  mutate(year = 2016) %&gt;%
  rename_at(.vars = vars(ends_with(&quot;_2016&quot;)),
            .funs = funs(sub(&quot;[_]2016$&quot;, &quot;&quot;, .))) %&gt;%
  select(co_c_number, co_c_name, overall_homeless, sheltered_total_homeless, unsheltered_homeless, homeless_people_in_families, sheltered_total_homeless_people_in_families, unsheltered_homeless_people_in_families, homeless_family_households, sheltered_total_homeless_family_households, unsheltered_homeless_family_households, chronically_homeless, sheltered_total_chronically_homeless, unsheltered_chronically_homeless, homeless_veterans, sheltered_total_homeless_veterans, unsheltered_homeless_veterans, homeless_unaccompanied_youth_under_18, year)

home_data_2015 = home_data_2015 %&gt;%
  janitor::clean_names() %&gt;%
  mutate(year = 2015) %&gt;%
  rename_at(.vars = vars(ends_with(&quot;_2015&quot;)),
            .funs = funs(sub(&quot;[_]2015$&quot;, &quot;&quot;, .))) %&gt;%
   select(co_c_number, co_c_name, overall_homeless, sheltered_total_homeless, unsheltered_homeless, homeless_people_in_families, sheltered_total_homeless_people_in_families, unsheltered_homeless_people_in_families, homeless_family_households, sheltered_total_homeless_family_households, unsheltered_homeless_family_households, chronically_homeless, sheltered_total_chronically_homeless, unsheltered_chronically_homeless, homeless_veterans, sheltered_total_homeless_veterans, unsheltered_homeless_veterans, homeless_unaccompanied_youth_under_18, year)

home_data_2014 = home_data_2014 %&gt;%
  janitor::clean_names() %&gt;%
  mutate(year = 2014) %&gt;%
  rename_at(.vars = vars(ends_with(&quot;_2014&quot;)),
            .funs = funs(sub(&quot;[_]2014$&quot;, &quot;&quot;, .))) %&gt;%
   select(co_c_number, co_c_name, overall_homeless, sheltered_total_homeless, unsheltered_homeless, homeless_people_in_families, sheltered_total_homeless_people_in_families, unsheltered_homeless_people_in_families, homeless_family_households, sheltered_total_homeless_family_households, unsheltered_homeless_family_households, chronically_homeless, sheltered_total_chronically_homeless, unsheltered_chronically_homeless, homeless_veterans, sheltered_total_homeless_veterans, unsheltered_homeless_veterans, year)

home_data_2013 = home_data_2013 %&gt;%
  janitor::clean_names() %&gt;%
  mutate(year = 2013) %&gt;%
  rename_at(.vars = vars(ends_with(&quot;_2013&quot;)),
            .funs = funs(sub(&quot;[_]2013$&quot;, &quot;&quot;, .))) %&gt;%
   select(co_c_number, co_c_name, overall_homeless, sheltered_total_homeless, unsheltered_homeless, homeless_people_in_families, sheltered_total_homeless_people_in_families, unsheltered_homeless_people_in_families, homeless_family_households, sheltered_total_homeless_family_households, unsheltered_homeless_family_households, chronically_homeless, sheltered_total_chronically_homeless, unsheltered_chronically_homeless, homeless_veterans, sheltered_total_homeless_veterans, unsheltered_homeless_veterans, year)

home_data_2012 = home_data_2012 %&gt;%
  janitor::clean_names() %&gt;%
  mutate(year = 2012) %&gt;%
  rename_at(.vars = vars(ends_with(&quot;_2012&quot;)),
            .funs = funs(sub(&quot;[_]2012$&quot;, &quot;&quot;, .))) %&gt;%
   select(co_c_number, co_c_name, overall_homeless, sheltered_total_homeless, unsheltered_homeless, homeless_people_in_families, sheltered_total_homeless_people_in_families, unsheltered_homeless_people_in_families, homeless_family_households, sheltered_total_homeless_family_households, unsheltered_homeless_family_households, chronically_homeless, sheltered_total_chronically_homeless, unsheltered_chronically_homeless, homeless_veterans, sheltered_total_homeless_veterans, unsheltered_homeless_veterans, year)

home_data_2011 = home_data_2011 %&gt;%
  janitor::clean_names() %&gt;%
  mutate(year = 2011) %&gt;%
  rename_at(.vars = vars(ends_with(&quot;_2011&quot;)),
            .funs = funs(sub(&quot;[_]2011$&quot;, &quot;&quot;, .))) %&gt;%
   select(co_c_number, co_c_name, overall_homeless, sheltered_total_homeless, unsheltered_homeless, homeless_people_in_families, sheltered_total_homeless_people_in_families, unsheltered_homeless_people_in_families, homeless_family_households, sheltered_total_homeless_family_households, unsheltered_homeless_family_households, chronically_homeless, sheltered_total_chronically_homeless, unsheltered_chronically_homeless, homeless_veterans, sheltered_total_homeless_veterans, unsheltered_homeless_veterans, year)

home_data_2010 = home_data_2010 %&gt;%
  janitor::clean_names() %&gt;%
  mutate(year = 2010) %&gt;%
  rename_at(.vars = vars(ends_with(&quot;_2010&quot;)),
            .funs = funs(sub(&quot;[_]2010$&quot;, &quot;&quot;, .))) %&gt;%
   select(co_c_number, co_c_name, overall_homeless, sheltered_total_homeless, unsheltered_homeless, homeless_people_in_families, sheltered_total_homeless_people_in_families, unsheltered_homeless_people_in_families, homeless_family_households, sheltered_total_homeless_family_households, unsheltered_homeless_family_households, year)

home_data_2009 = home_data_2009 %&gt;%
  janitor::clean_names() %&gt;%
  mutate(year = 2009) %&gt;%
  rename_at(.vars = vars(ends_with(&quot;_2009&quot;)),
            .funs = funs(sub(&quot;[_]2009$&quot;, &quot;&quot;, .))) %&gt;%
   select(co_c_number, co_c_name, overall_homeless, sheltered_total_homeless, unsheltered_homeless, homeless_people_in_families, sheltered_total_homeless_people_in_families, unsheltered_homeless_people_in_families, homeless_family_households, sheltered_total_homeless_family_households, unsheltered_homeless_family_households, year)

home_data_2008 = home_data_2008 %&gt;%
  janitor::clean_names() %&gt;%
  mutate(year = 2008) %&gt;%
  rename_at(.vars = vars(ends_with(&quot;_2008&quot;)),
            .funs = funs(sub(&quot;[_]2008$&quot;, &quot;&quot;, .))) %&gt;%
   select(co_c_number, co_c_name, overall_homeless, sheltered_total_homeless, unsheltered_homeless, homeless_people_in_families, sheltered_total_homeless_people_in_families, unsheltered_homeless_people_in_families, homeless_family_households, sheltered_total_homeless_family_households, unsheltered_homeless_family_households, year)

home_data_2007 = home_data_2007 %&gt;%
  janitor::clean_names() %&gt;%
  mutate(year = 2007) %&gt;%
  rename_at(.vars = vars(ends_with(&quot;_2007&quot;)),
            .funs = funs(sub(&quot;[_]2007$&quot;, &quot;&quot;, .))) %&gt;%
   select(co_c_number, co_c_name, overall_homeless, sheltered_total_homeless, unsheltered_homeless, homeless_people_in_families, sheltered_total_homeless_people_in_families, unsheltered_homeless_people_in_families, homeless_family_households, sheltered_total_homeless_family_households, unsheltered_homeless_family_households, year)

### Bind rows for all 12 datasets produced above

library(dplyr)
total_data = 
bind_rows(mutate_all(home_data_2007, as.character), mutate_all(home_data_2008, as.character), mutate_all(home_data_2009, as.character), mutate_all(home_data_2010, as.character), mutate_all(home_data_2011, as.character), mutate_all(home_data_2012, as.character), mutate_all(home_data_2013, as.character), mutate_all(home_data_2014, as.character), mutate_all(home_data_2015, as.character), mutate_all(home_data_2016, as.character), mutate_all(home_data_2017, as.character), mutate_all(home_data_2018, as.character))

### Clean up variable names

homelessness_all = total_data %&gt;%
  rename(coc_number = co_c_number, 
         coc_name = co_c_name, 
         total_homeless = overall_homeless, 
         sheltered_homeless = sheltered_total_homeless, 
         total_in_families = homeless_people_in_families, 
         sheltered_in_families = sheltered_total_homeless_people_in_families, 
         unsheltered_in_families = unsheltered_homeless_people_in_families, 
         total_households = homeless_family_households, 
         sheltered_households = sheltered_total_homeless_family_households, 
         unsheltered_households = unsheltered_homeless_family_households, 
         total_chronic = chronically_homeless, 
         sheltered_chronic = sheltered_total_chronically_homeless, 
         unsheltered_chronic = unsheltered_chronically_homeless, 
         total_veterans = homeless_veterans, 
         sheltered_veterans = sheltered_total_homeless_veterans, 
         unsheltered_veterans = unsheltered_homeless_veterans, 
         youth = homeless_unaccompanied_youth_under_18, 
         coc_category = co_c_category) %&gt;%
  mutate(total_homeless = as.numeric(total_homeless), 
         sheltered_homeless = as.numeric(sheltered_homeless), 
         unsheltered_homeless = as.numeric(unsheltered_homeless), 
         total_in_families = as.numeric(total_in_families), 
         sheltered_in_families = as.numeric(sheltered_in_families), 
         unsheltered_in_families = as.numeric(unsheltered_in_families), 
         total_households = as.numeric(total_households), 
         sheltered_households = as.numeric(sheltered_households), 
         unsheltered_households = as.numeric(unsheltered_households), 
         year = as.numeric(year), 
         total_chronic = as.numeric(total_chronic), 
         sheltered_chronic = as.numeric(sheltered_chronic), 
         unsheltered_chronic = as.numeric(unsheltered_chronic), 
         total_veterans = as.numeric(total_veterans), 
         sheltered_veterans = as.numeric(sheltered_veterans), 
         unsheltered_veterans = as.numeric(unsheltered_veterans),
         youth = as.numeric(youth)) %&gt;%
  separate(coc_number, into = c(&quot;state&quot;, &quot;number&quot;)) %&gt;% 
  ## removing those 2 random blank rows that appear at the end of every dataset after the total
  ## also removing GU, MP, PR, and VI
  subset(coc_name != &quot;NA&quot; &amp; !(state %in% c(&quot;GU&quot;,&quot;MP&quot;,&quot;PR&quot;,&quot;VI&quot;)))

### Saving cleaned and compiled dataset as a csv file

write.csv(homelessness_all, &quot;./data/us_homelessness_07_18.csv&quot;)</code></pre>
<p>Data on median household income, median monthly housing costs, and inadequate housing rates were obtained from the US Census Bureau website. Summary tables were made <a href="https://www.census.gov/programs-surveys/ahs/data/interactive/ahstablecreator.html?s_areas=00100&amp;s_year=2017&amp;s_tablename=TABLE5&amp;s_bygroup1=30&amp;s_bygroup2=1&amp;s_filtergroup1=1&amp;s_filtergroup2=1">here</a>. We resricted this section to only include 2017, as there was little data on other years, and 2017 is the closest to current data available. After creating 3 datasets for these variables (including cleaning and tidying each), we merged all three together. Finally, we merged this complete dataset with our homelessness dataset in order to create the covariate analysis Shiny App. The full cleaning process is shown in the code chunk below.</p>
<pre class="r"><code>library(readxl)

# Download/clean/export housing adequacy data

housing_adequacy = read_excel(&quot;data/housing_adequacy.xlsx&quot;, 1, skip = 9) %&gt;%
  janitor::clean_names()

housing_adequacy = 
  housing_adequacy[c(2, 6, 12, 15),] %&gt;%
  pivot_longer(
    new_york_city:seattle, 
    names_to = &quot;city&quot;, 
    values_to = &quot;estimates&quot;) %&gt;%
  pivot_wider(
    names_from = &quot;x1&quot;, 
    values_from = &quot;estimates&quot;
  ) %&gt;%
  janitor::clean_names() %&gt;%
  rename(
    total_housing_units = total, 
    severely_inadequate = severely_inadequate2, 
    moderately_inadequate = moderately_inadequate2
  ) %&gt;%
  arrange(city, severely_inadequate, moderately_inadequate, adequate, total_housing_units)
housing_adequacy

write.csv(housing_adequacy, &quot;./data/housing_adequacy.csv&quot;)

# Download/clean/export housing cost data

housing_cost = 
  read_csv(&quot;./data/2017_Housing_Cost.csv&quot;) %&gt;%
  janitor::clean_names() %&gt;%
  filter(characteristics == &quot;Median (excludes no cash rent) (dollars)&quot;) %&gt;%
  select(-row_order, -survey, -survey_year, -area, -tenure_filter, -geography_filter) %&gt;%
  pivot_longer(
    top_15_metropolitan_areas_new_york_city_metric_estimate:top_15_metropolitan_areas_seattle_metric_estimate, 
    names_to = &quot;city&quot;, 
    values_to = &quot;median_housing_cost&quot;
  ) %&gt;%
  mutate(
    city = str_remove(city, &quot;top_15_metropolitan_areas_&quot;), 
    city = str_remove(city, &quot;_metric_estimate&quot;)
  ) %&gt;%
  select(-characteristics, -table_description) %&gt;%
  janitor::clean_names()

write.csv(housing_cost, &quot;./data/housing_cost.csv&quot;)

# Download/clean/export median income data

median_income = read_excel(&quot;data/median_income.xlsx&quot;, 1) %&gt;%
  janitor::clean_names() %&gt;%
  filter(characteristics == &quot;Median (excludes no cash rent) (dollars)&quot;) %&gt;%
  select(-tenure_filter, -row_order, -survey, -survey_year, -area, -table_description, - geography_filter, - characteristics) %&gt;%
  pivot_longer(
    top_15_metropolitan_areas_new_york_city_metric_estimate:top_15_metropolitan_areas_seattle_metric_estimate,
    names_to = &quot;city&quot;,
    values_to = &quot;median_income&quot;) %&gt;%
  mutate(
    city = str_remove(city, &quot;top_15_metropolitan_areas_&quot;),
    city = str_remove(city, &quot;_metric_estimate&quot;))

write.csv(median_income, &quot;./data/median_income.csv&quot;)

# Join these three datasets into full housing data

merged_income_cost = 
  inner_join(median_income, housing_cost)

housing = 
  left_join(merged_income_cost, housing_adequacy, by = &quot;city&quot;)

write.csv(housing, &quot;./data/housing.csv&quot;)

## Cleaning homeless dataset - cetting total homeless counts for top 15 metropolitan cities
hmls_metro_15 =
  homelessness_all %&gt;% 
  select(year, state, number, coc_name, total_homeless) %&gt;% 
  mutate(code = paste(state,number,sep = &quot;_&quot;)) %&gt;% 
  filter(year == 2017, code %in% c(&quot;NY_600&quot;,&quot;CA_600&quot;,&quot;TX_600&quot;,&quot;TX_700&quot;,&quot;PA_500&quot;,&quot;DC_500&quot;,&quot;FL_600&quot;,&quot;GA_500&quot;,&quot;MA_500&quot;,&quot;CA_501&quot;,&quot;AZ_502&quot;,&quot;CA_608&quot;,&quot;MI_501&quot;,&quot;WA_500&quot;, &quot;IL_502&quot;,&quot;IL_510&quot;)) %&gt;% 
  mutate(
    city = str_remove(coc_name,&quot; CoC&quot;),
    city = case_when(
      city == &quot;Phoenix, Mesa/Maricopa County&quot; ~ &quot;Phoenix&quot;,
      city == &quot;San Francisco&quot; ~ &quot;San Francisco&quot;,
      city == &quot;Los Angeles City &amp; County&quot; ~ &quot;Los Angeles&quot;,
      city == &quot;Riverside City &amp; County&quot; ~&quot;Riverside&quot;,
      city == &quot;District of Columbia&quot; ~ &quot;Washington, DC&quot;,
      city == &quot;Miami-Dade County&quot; ~ &quot;Miami&quot;,
      city == &quot;Atlanta&quot; ~ &quot;Atlanta&quot;,
      city == &quot;Waukegan, North Chicago/Lake County&quot; ~ &quot;Chicago&quot;,
      city == &quot;Chicago&quot; ~ &quot;Chicago&quot;,
      city == &quot;Boston&quot; ~ &quot;Boston&quot;,
      city == &quot;Detroit&quot; ~ &quot;Detroit&quot;,
      city == &quot;New York City&quot; ~ &quot;New York City&quot;,
      city == &quot;Philadelphia&quot; ~ &quot;Philadelphia&quot;,
      city == &quot;Dallas City &amp; County, Irving&quot; ~ &quot;Dallas&quot;,
      city == &quot;Houston, Pasadena, Conroe/Harris, Ft. Bend, Montgomery, Counties&quot; ~ &quot;Houston&quot;,
      city == &quot;Seattle/King County&quot; ~&quot;Seattle&quot;
      )
    ) %&gt;% 
  group_by(city) %&gt;% 
  mutate(tot_hmls = sum(total_homeless)) %&gt;% 
  ungroup() %&gt;% 
  distinct(city, tot_hmls)

## Cleaning housing characteristics merged dataset
housing_metro_15 = 
  housing %&gt;% 
  group_by(city) %&gt;% 
  mutate(
    severely_inadequate = as.numeric(severely_inadequate),
    total_housing_units = as.numeric(total_housing_units),
    moderately_inadequate = as.numeric(moderately_inadequate),
    adequate = as.numeric(adequate),
    total_inadeq = moderately_inadequate + severely_inadequate,
    per_inadeq = round((total_inadeq/total_housing_units)*100,2), 
    median_income = as.numeric(median_income), 
    median_housing_cost = as.numeric(median_housing_cost)
  ) %&gt;% 
  ungroup() %&gt;% 
  select(city, median_income, median_housing_cost, per_inadeq) %&gt;% 
  mutate(
    city = case_when(
      city == &quot;phoenix&quot; ~ &quot;Phoenix&quot;,
      city == &quot;san_francisco&quot; ~ &quot;San Francisco&quot;,
      city == &quot;los_angeles&quot; ~ &quot;Los Angeles&quot;,
      city == &quot;riverside&quot; ~&quot;Riverside&quot;,
      city == &quot;washington_dc&quot; ~ &quot;Washington, DC&quot;,
      city == &quot;miami&quot; ~ &quot;Miami&quot;,
      city == &quot;atlanta&quot; ~ &quot;Atlanta&quot;,
      city == &quot;chicago&quot; ~ &quot;Chicago&quot;,
      city == &quot;boston&quot; ~ &quot;Boston&quot;,
      city == &quot;detroit&quot; ~ &quot;Detroit&quot;,
      city == &quot;new_york_city&quot; ~ &quot;New York City&quot;,
      city == &quot;philadelphia&quot; ~ &quot;Philadelphia&quot;,
      city == &quot;dallas&quot; ~ &quot;Dallas&quot;,
      city == &quot;houston&quot; ~ &quot;Houston&quot;,
      city == &quot;seattle&quot; ~&quot;Seattle&quot;
      )
    )

## Merge datasets
hmls_hous_final = 
  left_join(hmls_metro_15,housing_metro_15,by = &quot;city&quot;) %&gt;% 
  rename(City = city) %&gt;% 
  pivot_longer(
    tot_hmls:per_inadeq,
    names_to = &quot;variables&quot;,
    values_to = &quot;stats&quot;
  ) %&gt;% 
  mutate(
    variables = case_when(
      variables == &quot;tot_hmls&quot; ~ &quot;Homeless (count)&quot;,
      variables == &quot;median_income&quot; ~ &quot;Median Income ($)&quot;,
      variables == &quot;median_housing_cost&quot; ~ &quot;Median Monthly Housing Cost ($)&quot;,
      variables == &quot;per_inadeq&quot; ~ &quot;Housing Inadequacy (%)&quot;
    )
  )</code></pre>
</div>
<div id="exploratory-data-analysis" class="section level2">
<h2>Exploratory Data Analysis</h2>
<div id="trend-data" class="section level3">
<h3>Trend Data</h3>
<p>Over the course of the 12 years included in the homelessness analysis, California and New York had the highest numbers of homeless individuals, shown in Figure 1. This matches the HUD reports, as these two states are consistently the highest contributors to homelessness in the US. We chose to model several trends in homelessness over time, including total sheltered/unsheltered, chronic sheltered and unsheltered, and veterans sheltered and unsheltered over time.</p>
<p>Shown in Figure 2, total homelessness decreased from 2007-2009, slightly increased until 2010, and decreased until 2016. As we predicted, and as government reports show, total homelessness increased from 2016-2018.</p>
<p>Figure 3 shows the change in homelessness over time, stratified by sheltered status. There are many more sheltered individuals than unsheltered, however, recent years show that the lines are beginning to move closer together.</p>
<p>Figure 4 shows the trends in chronic homelessness over time, stratified by shelter status. Contrasting with the previous figure, there are consistently many more unsheltered chronically homeless individuals. However, numbers of sheltered chronically homeless individuals are increasing in recent years.</p>
<p>Figure 5 shows the number of sheltered and unsheltered veterans over time. There are consistently more sheltered veterans than unsheltered, and these numbers have mostly declined from 2007 to 2018.</p>
<p>For a better comparison of graphs side by side, view our <a href="https://bwigsten.github.io/homelessness.analysis.github.io/Dashboard.html">Trends Over Time Dashboard</a>.</p>
<pre class="r"><code>total_by_state = homelessness_all %&gt;%
  select(state, total_homeless) %&gt;%
  group_by(state) %&gt;% 
  summarize(total = sum(total_homeless, na.rm = TRUE)) %&gt;%
  mutate(state = fct_reorder(state, total)) %&gt;%
  plot_ly(
    x = ~state, 
    y = ~total, 
    type = &quot;bar&quot;, 
    title = &quot;Total Homelessness in 2018 by State&quot;) %&gt;% 
    layout(title = &quot;Total Homelessness From 2007-2018 by State&quot;, 
         xaxis = list(title = &quot;State&quot;),
         yaxis = list(side = &#39;left&#39;, title = &quot;Number Homeless&quot;))
total_by_state</code></pre>
<p><div id="htmlwidget-850705a6347c9609a82a" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-850705a6347c9609a82a">{"x":{"visdat":{"bc6314d50e21":["function () ","plotlyVisDat"]},"cur_data":"bc6314d50e21","attrs":{"bc6314d50e21":{"x":{},"y":{},"title":"Total Homelessness in 2018 by State","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Total Homelessness From 2007-2018 by State","xaxis":{"domain":[0,1],"automargin":true,"title":"State","type":"category","categoryorder":"array","categoryarray":["WY","SD","ND","DE","VT","RI","MT","NH","AK","WV","ID","MS","KS","ME","NM","IA","AR","UT","NE","CT","OK","AL","SC","KY","WI","IN","LA","HI","DC","MO","MN","VA","NV","MD","TN","AZ","NC","OH","NJ","CO","IL","MI","PA","OR","GA","MA","WA","TX","FL","NY","CA"]},"yaxis":{"domain":[0,1],"automargin":true,"side":"left","title":"Number Homeless"},"hovermode":"closest","showlegend":false},"source":"A","config":{"showSendToCloud":false},"data":[{"x":["AK","AL","AR","AZ","CA","CO","CT","DC","DE","FL","GA","HI","IA","ID","IL","IN","KS","KY","LA","MA","MD","ME","MI","MN","MO","MS","MT","NC","ND","NE","NH","NJ","NM","NV","NY","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VA","VT","WA","WI","WV","WY"],"y":[22671,58290,37293,136844,1495789,153688,50906,82269,12095,545317,200285,78725,36392,23812,159554,75068,25114,66906,77295,214568,107583,30084,170371,92182,91368,24771,18663,137875,11300,39039,18991,145814,35316,104448,897432,142530,52344,189005,179871,14930,60129,10494,113299,376591,38099,93343,14896,251800,69602,23004,10110],"title":"Total Homelessness in 2018 by State","type":"bar","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script> Figure 1: Summed Homelessness Over 12 Years by State</p>
<pre class="r"><code>total_over_time = homelessness_all %&gt;%
  group_by(year) %&gt;%
  summarize(total = sum(total_homeless, na.rm = TRUE)) %&gt;%
  plot_ly(
    x = ~year, 
    y = ~total, 
    type = &quot;scatter&quot;, 
    mode = &quot;lines&quot;) %&gt;% 
    layout(title = &quot;Total Homelessness Over Time&quot;, 
         xaxis = list(title = &quot;Year&quot;),
         yaxis = list(side = &#39;left&#39;, title = &quot;Number Homeless&quot;)) 

total_over_time</code></pre>
<p><div id="htmlwidget-08213ce690c565a9ad72" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-08213ce690c565a9ad72">{"x":{"visdat":{"bc6364b50ab0":["function () ","plotlyVisDat"]},"cur_data":"bc6364b50ab0","attrs":{"bc6364b50ab0":{"x":{},"y":{},"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Total Homelessness Over Time","xaxis":{"domain":[0,1],"automargin":true,"title":"Year"},"yaxis":{"domain":[0,1],"automargin":true,"side":"left","title":"Number Homeless"},"hovermode":"closest","showlegend":false},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018],"y":[1288923,1275229,1254825,1267883,1242399,1238109,1174847,1146964,1123281,1094012,1096562,1100094],"mode":"lines","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script> Figure 2: Total Homelessness Over Time</p>
<pre class="r"><code>total_stratified = homelessness_all %&gt;%
  group_by(year) %&gt;%
  summarize(
    sheltered = sum(sheltered_homeless, na.rm = TRUE), 
    unsheltered = sum(unsheltered_homeless, na.rm = TRUE)) %&gt;%
  plot_ly() %&gt;%
    add_trace(x = ~year, y = ~sheltered, type = &quot;scatter&quot;, mode = &quot;lines&quot;, name = &quot;Total Sheltered&quot;) %&gt;%
    add_trace(x = ~year, y = ~unsheltered, type = &quot;scatter&quot;, mode = &quot;lines&quot;, name = &quot;Total Unsheltered&quot;) %&gt;%
  layout(title = &quot;Total Sheltered and Unsheltered Over Time&quot;,
         xaxis = list(title = &quot;Year&quot;),
         yaxis = list(side = &#39;left&#39;, title = &quot;Number&quot;))
total_stratified</code></pre>
<p><div id="htmlwidget-5a0b7c82842c0e99be5e" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-5a0b7c82842c0e99be5e">{"x":{"visdat":{"bc63fea88bd":["function () ","plotlyVisDat"]},"cur_data":"bc63fea88bd","attrs":{"bc63fea88bd":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"lines","name":"Total Sheltered","inherit":true},"bc63fea88bd.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"lines","name":"Total Unsheltered","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Total Sheltered and Unsheltered Over Time","xaxis":{"domain":[0,1],"automargin":true,"title":"Year"},"yaxis":{"domain":[0,1],"automargin":true,"side":"left","title":"Number"},"hovermode":"closest","showlegend":true},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018],"y":[781259,771694,805033,805408,783240,778671,787747,800485,781287,745620,720536,715728],"type":"scatter","mode":"lines","name":"Total Sheltered","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018],"y":[507664,503535,449792,462475,459159,459438,387100,346479,341994,348392,376026,384366],"type":"scatter","mode":"lines","name":"Total Unsheltered","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"line":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script> Figure 3: Total Homelessness Over Time Stratified by Shelter Status</p>
<pre class="r"><code>chronic_over_time = homelessness_all %&gt;%
  group_by(year) %&gt;%
  filter(year %in% c(&quot;2011&quot;, &quot;2012&quot;, &quot;2013&quot;, &quot;2014&quot;, &quot;2015&quot;, &quot;2016&quot;, &quot;2017&quot;, &quot;2018&quot;)) %&gt;%
  summarize(
    sheltered = sum(sheltered_chronic, na.rm = TRUE), 
    unsheltered = sum(unsheltered_chronic, na.rm = TRUE)) %&gt;%
  plot_ly() %&gt;%
    add_trace(x = ~year, y = ~sheltered, type = &quot;scatter&quot;, mode = &quot;lines&quot;, name = &quot;Total Chronic Sheltered&quot;) %&gt;%
    add_trace(x = ~year, y = ~unsheltered, type = &quot;scatter&quot;, mode = &quot;lines&quot;, name = &quot;Total Chronic Unsheltered&quot;) %&gt;%
  layout(title = &quot;Total Chronically Homeless Sheltered and Unsheltered Over Time&quot;,
         xaxis = list(title = &quot;Year&quot;),
         yaxis = list(side = &#39;left&#39;, title = &quot;Number&quot;))
chronic_over_time</code></pre>
<p><div id="htmlwidget-0d9af18f356aa6812d08" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-0d9af18f356aa6812d08">{"x":{"visdat":{"bc6325805238":["function () ","plotlyVisDat"]},"cur_data":"bc6325805238","attrs":{"bc6325805238":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"lines","name":"Total Chronic Sheltered","inherit":true},"bc6325805238.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"lines","name":"Total Chronic Unsheltered","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Total Chronically Homeless Sheltered and Unsheltered Over Time","xaxis":{"domain":[0,1],"automargin":true,"title":"Year"},"yaxis":{"domain":[0,1],"automargin":true,"side":"left","title":"Number"},"hovermode":"closest","showlegend":true},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[2011,2012,2013,2014,2015,2016,2017,2018],"y":[91770,78867,74874,80935,73335,59997,65049,72995],"type":"scatter","mode":"lines","name":"Total Chronic Sheltered","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2011,2012,2013,2014,2015,2016,2017,2018],"y":[142167,141537,128275,115111,117284,110414,123659,119367],"type":"scatter","mode":"lines","name":"Total Chronic Unsheltered","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"line":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script> Figure 4: Chronic Homelessness Over Time Stratified by Shelter Status * no data available for the years 2007-2010</p>
<pre class="r"><code>veterans_over_time = homelessness_all %&gt;%
  group_by(year) %&gt;%
  filter(year %in% c(&quot;2011&quot;, &quot;2012&quot;, &quot;2013&quot;, &quot;2014&quot;, &quot;2015&quot;, &quot;2016&quot;, &quot;2017&quot;, &quot;2018&quot;)) %&gt;%
  summarize(
    sheltered = sum(sheltered_veterans, na.rm = TRUE), 
    unsheltered = sum(unsheltered_veterans, na.rm = TRUE)) %&gt;%
  plot_ly() %&gt;%
    add_trace(x = ~year, y = ~sheltered, type = &quot;scatter&quot;, mode = &quot;lines&quot;, name = &quot;Total Veterans Sheltered&quot;) %&gt;%
    add_trace(x = ~year, y = ~unsheltered, type = &quot;scatter&quot;, mode = &quot;lines&quot;, name = &quot;Total Veterans Unsheltered&quot;) %&gt;%
  layout(title = &quot;Total Veterans Homeless Sheltered and Unsheltered Over Time&quot;,
         xaxis = list(title = &quot;Year&quot;),
         yaxis = list(side = &#39;left&#39;, title = &quot;Number&quot;)) 
veterans_over_time</code></pre>
<p><div id="htmlwidget-36beaa0a30411388c49c" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-36beaa0a30411388c49c">{"x":{"visdat":{"bc6376a28500":["function () ","plotlyVisDat"]},"cur_data":"bc6376a28500","attrs":{"bc6376a28500":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"lines","name":"Total Veterans Sheltered","inherit":true},"bc6376a28500.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"lines","name":"Total Veterans Unsheltered","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Total Veterans Homeless Sheltered and Unsheltered Over Time","xaxis":{"domain":[0,1],"automargin":true,"title":"Year"},"yaxis":{"domain":[0,1],"automargin":true,"side":"left","title":"Number"},"hovermode":"closest","showlegend":true},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[2011,2012,2013,2014,2015,2016,2017,2018],"y":[80009,70250,69774,64186,62950,52763,49340,46595],"type":"scatter","mode":"lines","name":"Total Veterans Sheltered","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2011,2012,2013,2014,2015,2016,2017,2018],"y":[50699,50728,41317,35037,32279,25980,30559,29041],"type":"scatter","mode":"lines","name":"Total Veterans Unsheltered","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"line":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script> Figure 5: Veteran Homelessness Over Time by Shelter Status * no data available for the years 2007-2010</p>
</div>
<div id="shiny-apps" class="section level3">
<h3>Shiny Apps</h3>
<p>We created two Shiny Apps to better show exploratory trends. This <a href="https://kpc2124.shinyapps.io/homelessness_final_proj/">first map</a> allows users to view the distribution of homelessness in the US between the years of 2007 and 2018. This distribution is visualized either as an overall count of homeless by state or a percentage of each state’s homeless population as defined by particular characteristics. These characteristics are defined in the description section and are from the U.S. Department of Housing and Urban Development in their 2018 Annual Homeless Assessment Report (AHAR) to Congress. The <a href="https://kpc2124.shinyapps.io/housing_covariates/">second</a> allows users to view different covariates, and their numbers or percentages in each of the top 15 metropolitan areas in the US. The bottom graph remains constant, in order to better visualize trends between the covariate of choice (median household income, median monthly housing cost, and percent inadequate housing) and the number of homeless individuals in each city. The description tab contains variable definitions.</p>
</div>
</div>
<div id="discussion-and-findings" class="section level2">
<h2>Discussion and Findings</h2>
<p>We confirmed government reports of decreasing homelessness from 2012-2016 and increasing from 2016-2018, shown in the <a href="https://bwigsten.github.io/homelessness.analysis.github.io/Dashboard.html">Trends Over Time Dashboard</a>. However, formal statistical analysis would need to be performed to determine the significance of this increase, and if it should truly be cause for alarm. When stratified by shelter status and veterans, there are consistently more sheltered individuals than unsheltered, which is promising for the future. However, once we analyzed trends in chronically homeless individuals, there are consistently more unsheltered. This could act as a point for public health intervention; working towards getting chronically homeless individuals access to shelters or studying why such individuals underutilize shelters. We had also originally planned to model youth homeless over time, but insufficient data led to this graph being excluded from the report. Better data on this topic could enhance future reports on ways to decrease homelessness.</p>
<p>Using our <a href="https://kpc2124.shinyapps.io/homelessness_final_proj/">Homelessness by State ShinyApp</a>, we confirmed that the two states that contribute the highest number of homeless individuals are California and New York. However, California consistently contributes the most to the unsheltered homeless population in the US, and could be a source for public health intervention.</p>
<p>We originally hypothesized that trends in median income, median housing cost, and housing inadequacy would impact the total homelessness in the top US 15 Metropolitan areas defined by the US Census Bureau. However, the <a href="https://kpc2124.shinyapps.io/housing_covariates/">Covariate Analysis ShinyApp</a>, shows that there are no apparent correlations in these trends. We analyzed total homelessness as a count of individuals, but would need to modify this to homelessness as a percent of total city population in order to validate this null association.</p>
</div>
<div id="ideas-for-future-analysis" class="section level2">
<h2>Ideas for Future Analysis</h2>
<p>Aside from formal statistical testing, we could model the relationship between economic factors, including the recession of 2008 and recovery, and homelessness in the US. This would require population demographic data, including economic factors, which we did not include in this analysis. We also had population level data on homelessness counts, but would be interested to find individual level data on risk factors for homelessness in order to build a model for risk of homelessness by state or city.</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
